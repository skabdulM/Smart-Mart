<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Orders</ion-title>
    <ion-menu-button slot="start" menu="main-menu"> </ion-menu-button>
  </ion-toolbar>
</ion-header>
<ion-content>
  <mat-accordion class="headers-align" multi="false">
    <mat-expansion-panel *ngFor="let id of ordersId" hideToggle="true">
      <mat-expansion-panel-header (click)="fetchProduct(id.userId, id.orderId)">
        <ion-text slot="end" *ngIf="id.status=='undelivered'"
          >Undelivered</ion-text
        >
        <ion-text slot="end" *ngIf="id.status=='delivered'">Delivered</ion-text>
        <mat-panel-title> Order Id #{{id.orderId}} </mat-panel-title>
      </mat-expansion-panel-header>
      <ion-list>
        <ion-item lines="full" color="primary">
          Order Date: {{ createdAt }}
        </ion-item>
        <!-- <mat-panel-description *ngFor="let order of product.orderedProducts"> -->
        <ion-item *ngFor="let order of OrderedProducts" lines="full">
          <ion-label>
            <h2>{{order.productName}}</h2>
            <p>
              {{order.productPrice*order.productQuantity
              |currency:"INR":'symbol':'2.0' }}
            </p>
          </ion-label>
          <ion-label slot="end">
            <h2>Quantity: {{order.productQuantity }}</h2>
          </ion-label>
        </ion-item>
        <!-- </mat-panel-description> -->
        <ion-item lines="full">
          <strong> Total Amount:</strong>
          <ion-label slot="end">
            <strong>
              {{ product.totalAmount | currency:"INR":'symbol':'2.0' }}
            </strong>
          </ion-label>
        </ion-item>
        <ion-item lines="full">
          <strong><ion-label>Payment Method:</ion-label></strong>
          <ion-label slot="end"
            >{{id.paymentId}}
            <p class="invoice" (click)="createPDF(id.orderId)">Invoice</p>
          </ion-label>
        </ion-item>
      </ion-list>
    </mat-expansion-panel>
  </mat-accordion>
</ion-content>
